# ===========================================
# NOVAI API - Environment Configuration
# ===========================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control
# ===========================================

# -----------------
# Supabase (Required)
# -----------------
# Get these from: https://supabase.com/dashboard/project/YOUR_PROJECT/settings/api
SUPABASE_URL=https://your-project-id.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# -----------------
# Google Gemini API (Required for Character Diagrams)
# -----------------
# Get from: https://aistudio.google.com/apikey
# Free tier: 60 requests/minute, 1500 requests/day
GOOGLE_GEMINI_API_KEY=

# Rate limiting for Gemini API to avoid 429 RESOURCE_EXHAUSTED errors
# Conservative defaults work well with free tier
GEMINI_MAX_REQUESTS_PER_MINUTE=30
GEMINI_MAX_CONCURRENT=2

# -----------------
# fal.ai API (Required for LoRA Training & Face Swap)
# -----------------
# Get from: https://fal.ai/dashboard/keys
# Pricing: ~$4.50 per LoRA training, variable for video generation
FAL_API_KEY=

# -----------------
# Redis (Required for BullMQ Job Queue)
# -----------------
# Option 1: Local Redis
#   docker run -d --name redis -p 6379:6379 redis:alpine
# Option 2: Upstash (https://console.upstash.com)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# -----------------
# OpenAI API (Required for Sora 2 Pro)
# -----------------
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# -----------------
# Direct Kling API (Recommended - 50% cheaper than fal.ai)
# -----------------
# Get from: https://klingai.com/
# Access to ALL Kling models: 1.0, 1.5, 1.6, 2.0, 2.1, 2.5, 2.6
# Features: motion control, lip sync, video extend, virtual try-on
KLING_ACCESS_KEY=
KLING_SECRET_KEY=
KLING_API_URL=https://api.klingai.com

# -----------------
# Local AI (Optional - Fallback for Safety Filter Blocks)
# -----------------
# Enable local AI as fallback when cloud APIs fail (safety filters, etc.)
# Requires Automatic1111 or ComfyUI running locally
# RTX 3060+ with 12GB VRAM recommended
LOCAL_AI_ENABLED=false
A1111_API_URL=http://localhost:7860
COMFYUI_API_URL=http://localhost:8188

# -----------------
# Server Configuration
# -----------------
# Frontend URL for CORS
FRONTEND_URL=http://localhost:3000
PORT=3001
NODE_ENV=development
